<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <title>ControlsInsight</title>
    <style type="text/css">
      *{padding:0;margin:0;}
      html{border-top:10px #ff7f00 solid;}
      body{width:800px;margin:0 auto;padding:5% 20px 20px;font-family:Palatino, Optima, Georgia, serif;}
      @media all and (max-width:780px){ body, pre a{width:80%;} }
    </style>
    <link rel="stylesheet" href="src/pen.css" />
  </head>
  <body>
    <form id="saveButton"><input type="submit" value="Save guidance" onClick="saveToDisk()"></input></form>
  
  <!-- TODO: Determine how to use this placeholder. -->
  <div id="guidanceEditor" data-toggle="pen" placeholder="FIXME" class="pen" contenteditable="true">
    <h2>Enter guidance information here...</h2>
  </div>
  
  <script src="src/pen.js"></script>
  <script src="src/markdown.js"></script>
  <script type="text/javascript">
      var options = {
          editor: document.querySelector('[data-toggle="pen"]'),
          debug: true,
          list: ['h2', 'h3', 'h4', 'h5', 'h6', 'p', 'pre', 'createlink', 'bold', 'italic', 'underline', 'inserthorizontalrule', 'insertorderedlist', 'insertunorderedlist']
      };

      var pen = new Pen(options);
    </script>

    <!-- TODO: Export JSON. -->
    <script>
      saveToDisk = function() {
        var data = document.getElementById('guidanceEditor').outerHTML;
        var saveButton = document.getElementById('saveButton');
        saveButton.action = 'data:text/html,' + data;
      };
    </script>
  </body>
</html>
